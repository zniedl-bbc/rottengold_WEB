<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
	<div id="commentContainer">

		<ui:repeat value="#{commentController.comments}" var="c">
			<div class="comment">
				<h:outputText value="#{c.title}" class="commentTitle"></h:outputText>
				<div>
					<form>
						<h:commandButton
							image="img/profileImg/#{commentController.getCommentCreatorProfileImg(c.id_user)}"
							class="commentProfileImg"
							action="#{userController.showAccountInformation}">
							<f:setPropertyActionListener value="#{c.id_user}"
								target="#{userController.currentAccount}"   />
						</h:commandButton>
					</form>
				</div>
				<br /> <br /> <br /> <br />
				<h:outputText value="#{c.comment}" class="commentText"></h:outputText>
				<div class="commentButtonsContainer">
					<h:form rendered="#{commentController.isUserCommentWriter(c)}">
						<h:commandButton value="Edit this comment"
							action="#{commentController.changeToEditMode}"
							class="commentButtons">
							<f:setPropertyActionListener value="#{c}"
								target="#{commentController.toBeEditedComment}" />
						</h:commandButton>
						<br />
						<h:commandButton value="Delete this comment"
							action="#{commentController.deleteComment}"
							class="commentButtons">
							<f:setPropertyActionListener value="#{c}"
								target="#{commentController.toBeDeletedComment}" />
						</h:commandButton>
					</h:form>
				</div>
			</div>
		</ui:repeat>
	</div>
</ui:composition>
